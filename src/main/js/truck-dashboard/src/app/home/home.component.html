<div class="container">
  <br>
  <br>
  <div class="row">
    <div class="col-xl-2 col-md-6">
      <div class="card bg-c-green order-card">
        <div class="card-body">
          <p class="text-muted mb-0">Filling Trucks</p>
          <div class="float-right">
            <i class="fa-solid fa-truck-field"> {{truckFillingCount}} </i>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-2 col-md-6">
      <div class="card bg-c-blue order-card">
        <div class="card-body">
          <p class="text-muted mb-0">Trucks Moving</p>
          <div class="float-right">
            <i class="fa-solid fa-truck-fast"> {{truckMovingCount}} </i>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-2 col-md-6">
      <div class="card bg-c-yellow order-card">
        <div class="card-body">
          <p class="text-muted mb-0">Pause Trucks</p>
          <div class="float-right">
            <i class="fa-solid fa-bed  "> </i>
            <i class="fa-solid fa-gas-pump  "> {{truckPauseCount}} </i>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-2 col-md-6">
      <div class="card bg-c-pink order-card">
        <div class="card-body">
          <p class="text-muted mb-0">Customs</p>
          <div class="float-right">
            <i class="fa-solid fa-person-military-pointing">{{truckCustomsCount}}</i>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-2 col-md-6">
      <div class="card bg-c-p order-card">
        <div class="card-body">
          <p class="text-muted mb-0">Unloading Trucks</p>
          <div class="float-right">
            <i class="fa-solid fa-truck-ramp-box"> {{truckUnlodingCount}} </i>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br>
  <br>

  <div class="row">
    <div class="col-xl-2 col-md-6">
      <div class="card">
        <div class="card-body">
          <form>
            <div class="form-group mb-0">
              <label>Search</label>
              <div class="input-group mb-0">
                <input type="text" class="form-control" placeholder="Search..."
                       aria-describedby="project-search-addon"/>
                <div class="input-group-append">
                  <button class="btn btn-danger" type="button" id="project-search-addon"><i
                    class="fa fa-search search-icon font-12"></i></button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="col-xl-2 col-md-6"></div>
    <div class="col-xl-2 col-md-6"></div>
    <div class="col-xl-2 col-md-6">
      <div class="card bg-c-p  order-card">
        <button (click)="generateData()" class="btn" type="button" id="produce"><i
          class="fa-solid fa-shuffle font-12"></i> Generate
        </button>
      </div>
    </div>
    <div class="col-xl-2 col-md-6">
      <div class="card bg-c-p  order-card">
        <button (click)="simulateWorkflow()" class="btn" type="button" id="workflow"><i
          class="fa-solid fa-spinner font-12"></i> Workflow
        </button>
      </div>
    </div>

  </div>
  <!-- end row -->

  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <div class="table-responsive project-list">
            <table class="table project-table table-centered table-nowrap">
              <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Trucks</th>
                <th scope="col">Start Date</th>
                <th scope="col">Ariving Date</th>
                <th scope="col">Status</th>
                <th scope="col">Drivers</th>
                <th scope="col">Progress</th>
                <th scope="col">Action</th>
              </tr>
              </thead>
              <tbody>

              <tr *ngFor="let journey of (allActiveTruckJourny$ | async);let i = index;" class="cell-1">

                <th scope="row">{{ i + 1 }}</th>
                <td>{{ journey.truck.serie }}</td>
                <td>{{ journey.date }}</td>
                <td>{{ journey.arriving_date }}</td>
                <td>
                  <span class="text-success font-12"><i class="mdi mdi-checkbox-blank-circle mr-1"></i> {{ journey.status }}</span>
                </td>
                <td>
                  <div class="team">
                    <a href="javascript: void(0);" class="team-member" data-toggle="tooltip" data-placement="top"
                       title="" data-original-title="Roger Drake">
                      <img [src]="journey.driver.icon" class="rounded-circle avatar-xs"
                           alt=""/>
                    </a>


                  </div>
                </td>
                <td>
                  <p class="mb-0">Progress <span class="float-right">{{computePercentage(journey.travelDistance,journey.courseDistance)}} </span></p>

                  <div class="progress mt-2" style="height: 5px;">
                    <div class="progress-bar bg-success" role="progressbar" [ngStyle]=getStyle(journey.travelDistance,journey.courseDistance) aria-valuenow="0"
                         aria-valuemin="0" aria-valuemax="0"></div>
                  </div>
                </td>

                <td>
                  <div class="action">
                    <a href="#" class="text-success mr-4" data-toggle="tooltip" data-placement="top" title=""
                       data-original-title="Edit"> <i class="fa-solid fa-eye"></i></a>
                  </div>
                </td>
              </tr>


              </tbody>
            </table>
          </div>
          <!-- end project-list -->

          <div class="pt-3">
            <ul class="pagination justify-content-end mb-0">
              <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
              </li>
              <li class="page-item active"><a class="page-link" href="#">1</a></li>
              <li class="page-item">
                <a class="page-link" href="#">Next</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- end row -->
</div>
